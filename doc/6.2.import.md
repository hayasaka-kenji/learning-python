# import
- ディレクトリで作成、__init__.pyを作成するとパッケージを作ることができる。

## 記述方法

```py
# 1
import lesson_package.utils
r = lesson_package.utils.say_twice('hello')

# 2
from lesson_package import utils
r = utils.say_twice('hello')

# 3
from lesson_package.utils import say_twice
r = say_twice('hello')
```
通常は1, 2の書き方が利用される。  
1は冗長だが、干渉が起きにくい。

```py
from lesson_package.utils import say_twice as u
```
モジュールを別名として受け取ることも可能だが視認性が悪くなるので、非推奨。

## 絶対パスと相対パス
- `.`つなぎで階層が深いファイルも取り出すことができる
- `..`で相対パスをつかうこともできるがあまり使われることが少ない。

## __init__.pyと__all__
```py
# lesson.py
from lesson_package.talk import *
```
```py
# __init__.py
__all__ = ['animal', 'human']
```
init.pyに読み込むファイルを書き込むことで`import *`することも可能だが、メンテナンス性が落ちることが落ちてしまうので非推奨。

## ImportError
```py
try:
    from lesson_package import utils
except ImportError:
    from lesson_package.tools import utils
```

## setup.py
- PyCharm > Tools > Create setup.pyで作成可能。
- sdistでパッケージ化することが可能。

## import の注意点
- `import _collections, sys, os`のようなまとめて記述する方法も可能だが非推奨。
- ABC順に並べる
- 標準ライブラリ、サードパーティやローカルなど種類毎で分ける。分ける際は一行開ける。
- ローカルに同名のライブラリがあると、優先される。
- `import`したファイルで実行されていると`__name__`の実行されるので注意。そのため、実践では以下のような実行されるファイルを限定させる書き方を使う。
```py
# 実行ファイルを限定させる。
if __name__ == '__main__':
    print(sing())
    print('animal:', __name__)
```