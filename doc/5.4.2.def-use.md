# 関数定義

## 関数の応用

### 位置引数のタプル化
```py
def say_something(word, *args):
    print('word = ', word)
    for arg in args:
        print(arg)

say_something('Hello', 'Mike', 'Nance')
# word =  Hello
# Mike
# Nance
```
- `*`とつけることで、それ以降の引数をタプル化することができる。

```py
t = ('Mike', 'Nance')
say_something('Hello', *t)
```
- タプルを宣言しておいて、引数にわたすことも可能。

### キーワード引数の辞書化
```py
def menu(**kwargs):
    for k, v in kwargs.items():
        print(k, v)
```
- `**`とつけることで、ディクショナリー型としてうけとることができる。

```py
d = {
    'entree': 'beef',
    'drink': 'ice coffee',
    'dessert': 'cake'
}
menu(**d)
# entree beef
# drink ice coffee
# dessert cake
```
- ディクショナリー型でわかりやすく、展開することができるため、実践でもよく用いられる。

```py
def menu(food, *args, **kwargs):
    print(food)
    print(args)
    print(kwargs)

menu('banana', 'apple', 'orange', entree='beef', drink='ice coffee')
```
- `*`と`**`と併せて使うことも可能。位置引数を間違えるとエラーになるので注意が必要。

### Docstring
```py
def example_func(param1, param2):
    """Example function with types documented in the docstring.
    Args:
        prams1 (int): first param.
        prams2 (str): second param.

    Returns:
        bool: The return value. True for success. False otherwise.
    """
    print(param1)
    print(param2)
    return True

# どちらもおなじような効果が得られる
print(example_func.__doc__)
help(example_func)
```
- Pythonでは関数の中に説明を書くことが通例。
- ダブルコーテーション3つで囲む。

### 関数内関数
```py
def outer(a, b):
    def plus(c, d):
        return c + d

    r1 = plus(a, b)
    r2 = plus(b, a)
    print(r1 + r2)

# 実行
outer(1, 2)
# 6
```
- 関数内だけで使う関数のような使い方をする場合に使う。

### クロージャ
```py
def circle_area_func(pi):
    def circle_area(radius):
        return pi * radius * radius

    return circle_area

ca1 = circle_area_func(3)
ca2 = circle_area_func(3.14)

print(ca1(10))
# 300
print(ca2(10))
# 314
```
- はじめに設定した引数を用途によって使い分けたいときに使用する。

### デコレーター
```py
# デコーレータ定義
def print_info(func):
    def wrapper(*args, **kwargs):
        print('start')
        result = func(*args, **kwargs)
        print('end')
        return result
    return wrapper

# 関数定義
@print_info
def add_num(a, b):
    return a + b

# 実行
a = add_num(10, 20)
```
- 前後に処理をしたいときに便利。
- `@`をつけることで省略するように書くことができる。