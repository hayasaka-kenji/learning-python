# ファイルの作成
```py
f = open('test.txt', 'w')
f.write('test\n')
f.close()
```
- `w` write モード。最初に空にする。
- `a` append モード
- `close()`は必ずつける。

## withステートメント
```py
with open('test.txt', 'w') as f:
    f.write(s)
```
- `close`がいらないのでよく使われる。

## ファイルの読み込み
```py
with open('test.txt', 'r') as f:
    while True:
        chunk = 2
        line = f.read(chunk)
        print(line)
        if not line:
```
- `chunk`は何文字ずつ読み込むか。
- デフォルトが改行ありなので、必要ない場合は`end=''`とする。

## seek
```py
with open('test.txt', 'r') as f:
    f.seek(4)
    print(f.read(1))
```
文字位置を指定して読み込む。

## 書き込み読み込みモード
```py
with open('test.txt', 'r+') as f:
    print(f.read())
```
- `w+`で書き込みのあとに読み込みを行う。書き込みを行う前に、ファイルを空にするので注意。また、読み込みを行う場合は`seek`などでファイルの最初に戻る。
- `r+`は、最初に読み込みを行う。ファイルがないと読み込みを行ったときにエラーになる。

## テンプレート
```py
import string

# 読み込み専用
with open('../../design/template.txt') as f:
    t = string.Template(f.read())

contents = t.substitute(name='Mike', contents='How are you?')
print(contents)
```
- テンプレートを扱うにはstringモジュールを利用する。
- 外部読む込みを行うことにより、作業分割することができる。
- `substitute`はテンプレート置換を行い、新たな文字列を生成して返す。

## CSV
```py
import csv
```
csvを扱うときはモジュールを読み込む。

### 書き込み
```py
with open('test.csv', 'w') as csv_file:
    fieldnames = ['Name', 'Count']
    writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
    writer.writeheader()
    writer.writerow({'Name': 'A', 'Count': 1})
    writer.writerow({'Name': 'B', 'Count': 2})
# test.csvへ以下のように書き込まれる
# Name,Count
# A,1
# B,2
```
- `DictWriter`でオブジェクト化を行う。
- `writer.writeheader()`でヘッドを作る。

### 読み込み
```py
with open('test.csv', 'r') as csv_file:
    reader = csv.DictReader(csv_file)
    for row in reader:
        print(row['Name'], row['Count'])
# A 1
# B 2
```